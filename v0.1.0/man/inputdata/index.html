<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Input Data · BayesianNetworkRegression.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.png" alt="BayesianNetworkRegression.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.png" alt="BayesianNetworkRegression.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">BayesianNetworkRegression.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li class="is-active"><a class="tocitem" href>Input Data</a><ul class="internal"><li><a class="tocitem" href="#Tutorial-data:-Adjacency-matrices"><span>Tutorial data: Adjacency matrices</span></a></li><li><a class="tocitem" href="#Tutorial-data:-Vectorized-adjacency-matrices"><span>Tutorial data: Vectorized adjacency matrices</span></a></li></ul></li><li><a class="tocitem" href="../fit_model/">Model Fitting</a></li><li><a class="tocitem" href="../interpretation/">Interpretation</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../lib/public_methods/">Public Methods</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Input Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Input Data</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/solislemuslab/BayesianNetworkRegression.jl/blob/main/docs/src/man/inputdata.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Input-for-BayesianNetworkRegression.jl"><a class="docs-heading-anchor" href="#Input-for-BayesianNetworkRegression.jl">Input for <code>BayesianNetworkRegression.jl</code></a><a id="Input-for-BayesianNetworkRegression.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Input-for-BayesianNetworkRegression.jl" title="Permalink"></a></h1><p>The function <code>Fit!</code> within <code>BayesianNetworkRegression.jl</code> is the main method to estimate the relationships between the edges of the microbiome network (covariates) and the variable of interest (response). </p><p>There are two alternatives for the network input data:</p><ol><li>A vector of matrices, where each item in the vector (of length <span>$n$</span>, where <span>$n$</span> is the sample size) is an <span>$V \times V$</span> (where <span>$V$</span> is the number of microbes in each sample) adjacency matrix describing the microbiome network. All adjacency matrices must be the same size.</li><li>A <span>$n \times \frac{V(V-1)}{2}$</span> matrix, where each row in the matrix is the upper triangle of the adjacency matrix describing the network for that sample.</li></ol><p>Note that the package does not assume any specific inference procedure for the estimation of the adjacency matrices (and thus, of the microbiome networks). This means that the microbiome networks can be obtained using the user&#39;s preferred methodology and simply input them into the package as described below.</p><h2 id="Tutorial-data:-Adjacency-matrices"><a class="docs-heading-anchor" href="#Tutorial-data:-Adjacency-matrices">Tutorial data: Adjacency matrices</a><a id="Tutorial-data:-Adjacency-matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial-data:-Adjacency-matrices" title="Permalink"></a></h2><p>Suppose that you design an experiment with <span>$n$</span> different samples, and for each sample, you estimate a microbial network for <span>$V$</span> microbes and a measured phenotype.</p><p>The <span>$n$</span> microbial networks can be stored as <span>$n$</span> adjacency matrices. We have a toy example where we stored the adjacency matrices as a JLD2 file with the <a href="https://github.com/JuliaIO/JLD2.jl"><code>JLD2.jl</code></a> package.</p><p>You have two files:</p><ol><li><code>vector_networks.jld2</code> contains a vector of adjacency matrices and</li><li><code>vector_response.jld2</code> contains a vector of responses (real numbers).</li></ol><p>You can access the example files for the networks  <a href="https://github.com/solislemuslab/BayesianNetworkRegression.jl/blob/main/examples/vector_networks.jld2">here</a> and for the responses <a href="https://github.com/solislemuslab/BayesianNetworkRegression.jl/blob/main/examples/vector_response.jld2">here</a></p><p>To load the data and view an example in julia do the following:</p><pre><code class="language-julia hljs">using BayesianNetworkRegression
using JLD2
cd(joinpath(dirname(pathof(BayesianNetworkRegression)), &quot;..&quot;,&quot;examples&quot;))

vector_networks = JLD2.load(&quot;vector_networks.jld2&quot;)
vector_response = JLD2.load(&quot;vector_response.jld2&quot;)

vector_networks[&quot;networks&quot;][1] # shows the first adjancency matrix
vector_response[&quot;response&quot;] # shows all responses

X_a = vector_networks[&quot;networks&quot;]
y_a = vector_response[&quot;response&quot;]</code></pre><p>We will use the <code>X_a</code> and <code>y_a</code> objects in the <code>Fit!</code> function in the next section.</p><h3 id="Reading-adjacency-matrices-from-csv-files"><a class="docs-heading-anchor" href="#Reading-adjacency-matrices-from-csv-files">Reading adjacency matrices from csv files</a><a id="Reading-adjacency-matrices-from-csv-files-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-adjacency-matrices-from-csv-files" title="Permalink"></a></h3><p>xxxx</p><h2 id="Tutorial-data:-Vectorized-adjacency-matrices"><a class="docs-heading-anchor" href="#Tutorial-data:-Vectorized-adjacency-matrices">Tutorial data: Vectorized adjacency matrices</a><a id="Tutorial-data:-Vectorized-adjacency-matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial-data:-Vectorized-adjacency-matrices" title="Permalink"></a></h2><p>Suppose that you already converted each adjacency matrix into a vector corresponding to its upper triangle (see image below).</p><p><img src="../../assets/transformA.png" alt="transformA"/></p><p>That is, you have a file with <span>$n$</span> rows and <span>$\frac{V(V-1)}{2} + 1$</span> columns. For each row, the first <span>$\frac{V(V-1)}{2}$</span> columns describe the upper triangle of an adjacency matrix and the last column gives the response variable. </p><p>You can access the example file of input networks (and response) <a href="https://github.com/solislemuslab/BayesianNetworkRegression.jl/blob/main/examples/matrix_networks.csv">here</a></p><p>Do not copy-paste into a &quot;smart&quot; text-editor. Instead, save the file directly into your working directory using &quot;save link as&quot; or &quot;download linked file as&quot;. This file contains 100 adjacency matrices and corresponding responses.</p><p>To load the data and view an example in julia do the following:</p><pre><code class="language-julia hljs">using CSV, DataFrames
cd(joinpath(dirname(pathof(BayesianNetworkRegression)), &quot;..&quot;,&quot;examples&quot;))

dat = DataFrame(CSV.File(&quot;matrix_networks.csv&quot;))
X_v = Matrix(dat[:,1:435])
y_v = dat[:,436]</code></pre><p>We will use the <code>X_v</code> and <code>y_v</code> objects in the <code>Fit!</code> function in the next section.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation/">« Installation</a><a class="docs-footer-nextpage" href="../fit_model/">Model Fitting »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Wednesday 10 August 2022 19:39">Wednesday 10 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
